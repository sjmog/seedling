{"version":3,"sources":["webpack:///./node_modules/react-embed/esm/blocks/imgur/index.js"],"names":["blockStyle","width","overflow","borderRadius","display","iframeStyle","Imgur","_super","_this","apply","this","arguments","state","height","mounted","onMessage","_a","data","json","JSON","parse","message","href","src","setState","_b","prototype","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","concat","props","id","render","renderWrap","style","border","scrolling","frameBorder"],"mappings":"2FAAA,0BAEIA,EAAa,CACfC,MAAO,IACPC,SAAU,SACVC,aAAc,MACdC,QAAS,SAEPC,EAAc,CAChBJ,MAAO,OACPG,QAAS,QACTF,SAAU,SACVC,aAAc,OAGZG,EAAQ,SAAUC,GAGpB,SAASD,IACP,IAAIE,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMC,KAAMC,YAAcD,KAyBhE,OAvBAF,EAAMI,MAAQ,CACZC,OAAQ,GAEVL,EAAMM,SAAU,EAEhBN,EAAMO,UAAY,SAAUC,GAC1B,IAAIC,EAAOD,EAAGC,KACd,GAAKT,EAAMM,SACS,kBAATG,EAEX,IACE,IAAIC,EAAOC,KAAKC,MAAMH,GACtB,GAAqB,iBAAjBC,EAAKG,QAA4B,OACrC,GAAyB,kBAAdH,EAAKI,KAAmB,OACnC,GAAIJ,EAAKI,OAASd,EAAMe,MAAO,OAC/B,GAA2B,kBAAhBL,EAAKL,OAAqB,OAErCL,EAAMgB,SAAS,CACbX,OAAQK,EAAKL,SAEf,MAAOY,MAGJjB,EAkCT,OA9DA,oBAAUF,EAAOC,GA+BjBD,EAAMoB,UAAUC,kBAAoB,WAClCjB,KAAKI,SAAU,EACfc,OAAOC,iBAAiB,UAAWnB,KAAKK,YAG1CT,EAAMoB,UAAUI,qBAAuB,WACrCpB,KAAKI,SAAU,EACfc,OAAOG,oBAAoB,UAAWrB,KAAKK,YAG7CT,EAAMoB,UAAUH,IAAM,WACpB,MAAO,uBAAuBS,OAAOtB,KAAKuB,MAAMC,GAAI,0BAGtD5B,EAAMoB,UAAUS,OAAS,WACvB,IACItB,EADQH,KAAKE,MACEC,QAAU,EAC7B,OAAOH,KAAKuB,MAAMG,WAAW,gBAAoB,MAAO,CACtDC,MAAO,mBAAS,mBAAS,GAAIrC,GAAa,CACxCsC,OAAQzB,EAAS,oBAAsB,MAExC,gBAAoB,SAAU,CAC/B0B,UAAW,KACXC,YAAa,IACbjB,IAAKb,KAAKa,MACVc,MAAO,mBAAS,mBAAS,GAAIhC,GAAc,CACzCQ,OAAQA,SAKPP,EA/DG,CAgEV,aAEa","file":"js/13-fa63d39eec2510dc85dd.chunk.js","sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nvar blockStyle = {\n  width: 350,\n  overflow: 'hidden',\n  borderRadius: '6px',\n  display: 'block'\n};\nvar iframeStyle = {\n  width: '100%',\n  display: 'block',\n  overflow: 'hidden',\n  borderRadius: '8px'\n};\n\nvar Imgur = function (_super) {\n  __extends(Imgur, _super);\n\n  function Imgur() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      height: 0\n    };\n    _this.mounted = false;\n\n    _this.onMessage = function (_a) {\n      var data = _a.data;\n      if (!_this.mounted) return;\n      if (typeof data !== 'string') return;\n\n      try {\n        var json = JSON.parse(data);\n        if (json.message !== 'resize_imgur') return;\n        if (typeof json.href !== 'string') return;\n        if (json.href !== _this.src()) return;\n        if (typeof json.height !== 'number') return;\n\n        _this.setState({\n          height: json.height\n        });\n      } catch (_b) {}\n    };\n\n    return _this;\n  }\n\n  Imgur.prototype.componentDidMount = function () {\n    this.mounted = true;\n    window.addEventListener('message', this.onMessage);\n  };\n\n  Imgur.prototype.componentWillUnmount = function () {\n    this.mounted = false;\n    window.removeEventListener('message', this.onMessage);\n  };\n\n  Imgur.prototype.src = function () {\n    return \"https://imgur.com/a/\".concat(this.props.id, \"/embed?pub=true&w=340\");\n  };\n\n  Imgur.prototype.render = function () {\n    var state = this.state;\n    var height = state.height || 0;\n    return this.props.renderWrap(React.createElement(\"div\", {\n      style: __assign(__assign({}, blockStyle), {\n        border: height ? '1px solid #E5E9F2' : ''\n      })\n    }, React.createElement(\"iframe\", {\n      scrolling: \"no\",\n      frameBorder: \"0\",\n      src: this.src(),\n      style: __assign(__assign({}, iframeStyle), {\n        height: height\n      })\n    })));\n  };\n\n  return Imgur;\n}(React.Component);\n\nexport default Imgur;"],"sourceRoot":""}